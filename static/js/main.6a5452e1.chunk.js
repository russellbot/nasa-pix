(this["webpackJsonpnasa-pix"]=this["webpackJsonpnasa-pix"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(0),s=a.n(c),i=a(4),n=a.n(i),o=a(5),l=a(3),d=a(13),u=a(14),h=(a(29),a(15)),j=a(16),p=a(18),v=a(17),g=a(6),b=a.n(g),O=function(e){var t=e.saveFavorite,a=e.removeFavorite,c=e.object;return"favorites"===e.page?Object(r.jsx)("p",{className:"clickable",onClick:function(){return a({object:c})},children:"Delete from Favorites"}):Object(r.jsx)("p",{className:"clickable",onClick:function(){return t({object:c})},children:"Add to Favorites"})},f=(a(30),function(e){var t=e.title,a=e.explanation,c=e.date,s=e.url,i=e.copyright,n=e.hdurl,o=e.searchWords,l=e.saveFavorite,d=e.removeFavorite,u=e.object,h=e.page;return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("a",{href:n,children:Object(r.jsx)("img",{alt:"nasapicture",className:"card-img-top",src:s})}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)(b.a,{className:"card-title",highlightClassName:"highlight",searchWords:[o],textToHighlight:t,autoEscape:!0}),Object(r.jsx)(O,{saveFavorite:l,removeFavorite:d,object:u,page:h}),Object(r.jsx)("p",{children:Object(r.jsx)(b.a,{className:"card-explanation",highlightClassName:"highlight",searchWords:[o],textToHighlight:a,autoEscape:!0})}),Object(r.jsxs)("h5",{children:[c," \xa0\xa0 ",Object(r.jsx)(b.a,{className:"card-copyright",highlightClassName:"highlight",searchWords:[o],textToHighlight:i,autoEscape:!0})]})]})})]})}),x=function(e){var t=e.pix,a=e.searchWords,c=e.saveFavorite,s=e.removeFavorite,i=e.page;return Object(r.jsx)("div",{className:"images-container",children:t.map((function(e,n){return Object(r.jsx)(f,{searchWords:a,saveFavorite:c,removeFavorite:s,title:t[n].title,url:t[n].url,explanation:t[n].explanation,date:t[n].date,copyright:t[n].copyright,object:t[n],page:i},t[n].title)}))})},m=function(e){e.searchfield;var t=e.searchChange;return Object(r.jsx)("div",{className:"searchbox",children:Object(r.jsx)("input",{type:"search",placeholder:"search pictures",onChange:t})})},y=function(e){var t=e.loadMore,a=e.loadFavorites;return Object(r.jsxs)("div",{className:"navigation-container",children:[Object(r.jsx)("span",{className:"background"}),Object(r.jsx)("span",{className:"title",children:Object(r.jsx)("h1",{children:"Nasa Pictures"})}),Object(r.jsxs)("span",{className:"navigation-items",id:"resultsNav",children:[Object(r.jsx)("h3",{className:"clickable",onClick:a,children:"Favorites"}),Object(r.jsx)("h3",{children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),Object(r.jsx)("h3",{className:"clickable",onClick:t,children:"Load More"})]})]})},F=a.p+"static/media/loaf-rocket-1.05d116a7.svg",E=(a(31),function(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)("img",{src:F,alt:"Rocket Loading Animation"})})}),N=function(e){return e.isAdded?Object(r.jsx)("div",{className:"save-confirmed",children:Object(r.jsx)("h1",{children:"ADDED!"})}):Object(r.jsx)("div",{})},S="CHANGE_SEARCH_FIELD",C="REQUEST_PICTURESS_PENDING",P="REQUEST_PICTURES_SUCCESS",_="REQUEST_PICTURES_FAILED",R="REQUEST_FAVORITES_SUCCESS",T="REQUEST_FAVORITES_EMPTY",I="FAVORITES_PAGE",A="HOME_PAGE",k="ADD_FAVORITE",w="DELETE_FAVORITE",D="SHOW_CONFIRMATION",L=function(e){Object(p.a)(a,e);var t=Object(v.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.props.onRequestFavorites(),this.props.onRequestPictures()}},{key:"render",value:function(){var e=this.props,t=e.searchField,a=e.onSearchChange,c=e.pictures,s=e.favorites,i=e.isPending,n=e.changePageFavorites,o=e.isAdded,l=e.saveFavorite,d=e.deleteFavorite,u=e.page,h=e.onRequestPictures,j=t,p=function(e){return e.filter((function(e){return e.copyright||(e.copyright=""),e.title.toLowerCase().includes(t.toLowerCase())||e.explanation.toLowerCase().includes(t.toLowerCase())||e.copyright.toLowerCase().includes(t.toLowerCase())}))};return i?Object(r.jsx)(E,{}):"home"===this.props.page?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(y,{loadMore:h,loadFavorites:n}),Object(r.jsx)("span",{className:"searchbox",children:Object(r.jsx)(m,{searchChange:a})}),Object(r.jsx)(x,{pix:p(c),saveFavorite:l,searchWords:j}),Object(r.jsx)(N,{isAdded:o})]}):"favorites"===this.props.page?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(y,{loadMore:h,loadFavorites:n}),Object(r.jsx)("span",{className:"searchbox",children:Object(r.jsx)(m,{searchChange:a})}),Object(r.jsx)(x,{pix:p(s),removeFavorite:d,searchWords:j,page:u})]}):void 0}}]),a}(s.a.Component),M=Object(o.b)((function(e){return{searchField:e.searchPictures.searchField,pictures:e.requestPictures.pictures,favorites:e.favoritesReducer.favorites,isAdded:e.addedConfirmation.isAdded,isPending:e.requestPictures.isPending,error:e.requestPictures.error,page:e.changePage.page}}),(function(e){return{onSearchChange:function(t){return e((a=t.target.value,{type:S,payload:a}));var a},onRequestPictures:function(){return e((function(e){e({type:C}),fetch("https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY&count=10").then((function(e){return e.json()})).then((function(t){e({type:P,payload:t}),e({type:A,payload:"home"})})).catch((function(t){return e({type:_,payload:t})}))}))},onRequestFavorites:function(){return e((function(e){if(localStorage.getItem("nasaFavorites")){var t=JSON.parse(localStorage.getItem("nasaFavorites"));e({type:R,payload:t})}else e({type:T,payload:[]})}))},changePageFavorites:function(){return e({type:I,payload:"favorites"})},changePageHome:function(){return e({type:A,payload:"home"})},saveFavorite:function(t){return e(function(e){return function(t){var a=[];localStorage.getItem("nasaFavorites")&&(a=JSON.parse(localStorage.getItem("nasaFavorites"))),a.includes(e.object)||(a.push(e.object),t({type:k,payload:a}),localStorage.setItem("nasaFavorites",JSON.stringify(a)),t({type:D,payload:!0}),setTimeout((function(){t({type:D,payload:!1})}),2e3))}}(t))},deleteFavorite:function(t){return e(function(e){return function(t){var a=JSON.parse(localStorage.getItem("nasaFavorites")).filter((function(t){return t.explanation!==e.object.explanation}));t({type:w,payload:a}),localStorage.setItem("nasaFavorites",JSON.stringify(a)),t({type:I,payload:"favorites"})}}(t))}}}))(L),U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,34)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),r(e),c(e),s(e),i(e)}))},q=a(2),W={searchField:""},H={isPending:!1,pictures:[],error:""},J={favorites:[]},V={isAdded:!1},Q={page:"home"},G=(a(32),Object(d.createLogger)()),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,X=Object(l.c)({searchPictures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case S:return Object(q.a)(Object(q.a)({},e),{},{searchField:t.payload});default:return e}},requestPictures:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case C:return Object(q.a)(Object(q.a)({},e),{},{isPending:!0});case P:return Object(q.a)(Object(q.a)({},e),{},{pictures:t.payload,isPending:!1});case _:return Object(q.a)(Object(q.a)({},e),{},{error:t.payload,isPending:!1});default:return e}},favoritesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case T:return Object(q.a)(Object(q.a)({},e),{},{favorites:[]});case R:case k:case w:return Object(q.a)(Object(q.a)({},e),{},{favorites:t.payload});default:return e}},changePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case I:return Object(q.a)(Object(q.a)({},e),{},{page:t.payload});case A:return Object(q.a)(Object(q.a)({},e),{},{page:"home"});default:return e}},addedConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case D:return Object(q.a)(Object(q.a)({},e),{},{isAdded:t.payload});default:return e}}}),Y=Object(l.e)(X,B(Object(l.a)(u.a,G)));n.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(o.a,{store:Y,children:Object(r.jsx)(M,{})})}),document.getElementById("root")),U()}},[[33,1,2]]]);
//# sourceMappingURL=main.6a5452e1.chunk.js.map